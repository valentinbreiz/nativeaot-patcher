<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title> | Cosmos Gen 3 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content=" | Cosmos Gen 3 ">
      
      
      <link rel="icon" href="favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/valentinbreiz/nativeaot-patcher/blob/main/docs/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="landing" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="logo.svg" alt="Cosmos Gen 3">
            Cosmos Gen 3
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">


<p>Welcome to the nativeaot-patcher wiki!</p>
<h2 id="how-to-use">How to Use</h2>
<p>There are two ways to use nativeaot-patcher depending on your needs:</p>
<h3 id="as-a-developer">As a Developer</h3>
<p>If you want to develop or contribute to the project, clone the repository and open it in VS Code. The workspace includes tasks for building and debugging kernels, running tests, and launching QEMU. See the <a href="articles/build/kernel-compilation-steps.html">Kernel Compilation Steps</a> and <a href="articles/debugging.html">Debugging with VSCode and QEMU</a> articles to get started.</p>
<h3 id="as-a-user">As a User</h3>
<p>If you want to build bare-metal C# kernels without setting up the full toolchain manually, use the <a href="https://github.com/valentinbreiz/CosmosVsCodeExtension">Cosmos VS Code Extension</a>. It integrates gen3 into VS Code, providing a streamlined experience for creating, building, and running Cosmos kernels directly from the editor. See the <a href="articles/install.html">Installation guide</a> to get started.</p>
<h2 id="documentation">Documentation</h2>
<ul>
<li><a href="articles/install.html">Installation (Cosmos VS Code Extension)</a></li>
<li><a href="articles/debugging.html">Debugging with VSCode and QEMU</a></li>
<li><a href="articles/build/kernel-compilation-steps.html">Kernel Compilation Steps</a></li>
<li><a href="articles/kernel-project-layout.html">Kernel Project Layout</a></li>
<li><a href="articles/plugs.html">Plugs</a></li>
<li><a href="articles/testing.html">Testing</a></li>
<li><a href="articles/garbage-collector.html">Garbage Collector</a></li>
<li><a href="articles/build/asm-build.html">Cosmos.Build.Asm</a></li>
<li><a href="articles/build/gcc-build.html">Cosmos.Build.GCC</a></li>
<li><a href="articles/build/patcher-build.html">Cosmos.Build.Patcher</a></li>
<li><a href="articles/build/ilc-build.html">Cosmos.Build.Ilc</a></li>
</ul>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://valentin.bzh/posts/3">Cosmos Gen3: The NativeAOT Era and the End of IL2CPU?</a></li>
<li><a href="https://github.com/dotnet/runtime/blob/main/docs/workflow/building/coreclr/nativeaot.md">NativeAOT Developer Workflow</a></li>
<li><a href="https://github.com/dotnet/runtime/blob/main/src/coreclr/nativeaot/docs/limitations.md">NativeAOT Limitations</a></li>
</ul>
<h2 id="gen2gen3-feature-comparison">Gen2/Gen3 Feature Comparison</h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Gen2</th>
<th>Gen3 Status</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Low level assembly access</td>
<td>âœ…</td>
<td>âœ…</td>
<td>Before X# now x64 NASM + ARM64 GAS assembly.</td>
</tr>
<tr>
<td>ACPI</td>
<td>âœ…</td>
<td>âœ…</td>
<td>LAI (Lightweight ACPI Implementation) via C interop.</td>
</tr>
<tr>
<td>Interrupt Handling</td>
<td>âœ…</td>
<td>âœ…</td>
<td>x64: APIC (Local + I/O). ARM64: GIC.</td>
</tr>
<tr>
<td>Memory Management</td>
<td>âœ…</td>
<td>âœ…</td>
<td></td>
</tr>
<tr>
<td>Driver support</td>
<td>âœ…</td>
<td>ğŸŸ¡ Partial</td>
<td>Only PCI on x64</td>
</tr>
<tr>
<td>Garbage Collection</td>
<td>âœ…</td>
<td>âœ…</td>
<td>Mark-and-sweep GC</td>
</tr>
<tr>
<td>Filesystem</td>
<td>âœ…</td>
<td>ğŸŸ¡ In progress</td>
<td></td>
</tr>
<tr>
<td>.NET core library features</td>
<td>ğŸŸ¡</td>
<td>ğŸŸ¡ Partial</td>
<td>Core types work (String, Collections, List, Dictionary). Console, DateTime, Random, BitOperations plugged. Missing: <code>System.Math</code> (Sin/Cos/Tan/Log/Exp/Pow), <code>System.IO.File</code>.</td>
</tr>
<tr>
<td>Plug system</td>
<td>âœ…</td>
<td>âœ…</td>
<td></td>
</tr>
<tr>
<td>Test Framework</td>
<td>âœ…</td>
<td>âœ…</td>
<td></td>
</tr>
<tr>
<td>Debugger</td>
<td>âœ…</td>
<td>ğŸŸ¡ Partial</td>
<td>Source link + variables bugs in vscode</td>
</tr>
<tr>
<td>CPU/FPU accelerated math</td>
<td>âœ…</td>
<td>ğŸŸ¡ Minimal</td>
<td>SSE enabled but only used for memory operations. Software <code>ceil</code>/<code>sqrt</code> only. No hardware FPU math, no <code>System.Math</code> plug.</td>
</tr>
<tr>
<td>Cosmos Graphic Subsystem</td>
<td>âœ…</td>
<td>âœ…</td>
<td>UEFI GOP framebuffer via Limine only.</td>
</tr>
<tr>
<td>Network interface</td>
<td>âœ…</td>
<td>ğŸŸ¡ Partial</td>
<td>x64 only, no ARM64 network driver.</td>
</tr>
<tr>
<td>Timer / Clock</td>
<td>âœ…</td>
<td>âœ…</td>
<td></td>
</tr>
<tr>
<td>Keyboard Input</td>
<td>âœ…</td>
<td>âœ…</td>
<td></td>
</tr>
<tr>
<td>Mouse Input</td>
<td>âœ…</td>
<td>âŒ</td>
<td></td>
</tr>
<tr>
<td>Audio interface</td>
<td>ğŸŸ¡</td>
<td>âŒ</td>
<td>No audio, sound, or speaker support.</td>
</tr>
</tbody>
</table>
<h2 id="additional-gen3-features">Additional Gen3 Features</h2>
<p>Beyond Gen2 parity, Gen3 brings new capabilities:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Status</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>NativeAOT Runtime</strong></td>
<td>ğŸŸ¡ In progress</td>
<td>Full NativeAOT compilation with runtime, no IL2CPU.</td>
</tr>
<tr>
<td><strong>ARM64 Support</strong></td>
<td>ğŸŸ¡ Partial</td>
<td>Missing network driver, timer bugs.</td>
</tr>
<tr>
<td><strong>Limine Boot Protocol</strong></td>
<td>âœ… Complete</td>
<td></td>
</tr>
<tr>
<td><strong>Threading &amp; Scheduler</strong></td>
<td>âœ… Complete</td>
<td>Priority-based stride scheduler (x64 + ARM64).</td>
</tr>
<tr>
<td><strong>Feature Flags</strong></td>
<td>âœ… Complete</td>
<td></td>
</tr>
<tr>
<td><strong>Cosmos Vs Code Extension</strong></td>
<td>âœ… Complete</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="future-releases">Future Releases</h2>
<p>Features planned for post-Gen3 releases:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Status</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SMP (Symmetric Multiprocessing)</strong></td>
<td>âŒ Not Started</td>
<td>Multi-core AP boot, per-CPU scheduling, load balancer.</td>
</tr>
<tr>
<td><strong>USB Support</strong></td>
<td>âŒ Not Started</td>
<td>XHCI/EHCI host controller drivers, USB HID (keyboard/mouse), mass storage.</td>
</tr>
<tr>
<td><strong>HTTPS</strong></td>
<td>âŒ Not Started</td>
<td>TLS/SSL implementation, certificate handling, secure sockets.</td>
</tr>
<tr>
<td><strong>Generational GC</strong></td>
<td>âŒ Not Started</td>
<td>Replace current mark-and-sweep with generational collector (Gen0/Gen1/Gen2) for better performance.</td>
</tr>
<tr>
<td><strong>Code execution</strong></td>
<td>âŒ Not Started</td>
<td>Userland WASM VM</td>
</tr>
</tbody>
</table>
<p>xref link <a href="xrefmap.yml">xrefmap.yml</a></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/valentinbreiz/nativeaot-patcher/blob/main/docs/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
