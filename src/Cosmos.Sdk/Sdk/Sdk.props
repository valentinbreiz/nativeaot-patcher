<Project>
  <PropertyGroup>
    <UsingCosmosSdk>true</UsingCosmosSdk>
    <!-- Ilc  -->
    <IlcDependsOn>RunPatcher;$(IlcDependsOn);PrepareForILLink</IlcDependsOn>
    <LinkTargetDependsOn>CompileWithIlc;BuildYasm;BuildGCC;$(LinkTargetDependsOn)</LinkTargetDependsOn>
    <UnRootGraphics Condition="$(UnRootGraphics) != 'true'">false</UnRootGraphics>
    <CosmosDefaultFont Condition="$(CosmosDefaultFont) == '' and $(UnRootGraphics) != 'true'">Cosmos.Kernel.Graphics.Fonts.DefaultFont.psf</CosmosDefaultFont>
  </PropertyGroup>

  <ItemGroup>
    <UnmanagedEntryPointsAssembly Include="Cosmos.Kernel.Core"/>
    <IlcArg Include="--feature:System.Diagnostics.Tracing.EventSource.IsSupported=false"/>
    <IlcArg Condition="$(UnRootGraphics) != 'true'" Include="--root:Cosmos.Kernel.Graphics"/>
    <RuntimeHostConfigurationOption Condition="$(CosmosDefaultFont) != ''" Include="Cosmos.Kernel.Graphics.Fonts.DefaultFont" Value="$(CosmosDefaultFont)"/>
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Cosmos.Build.Common"/>
    <PackageReference Include="Cosmos.Build.Asm"/>
    <PackageReference Include="Cosmos.Build.Patcher"/>
    <PackageReference Include="Cosmos.Build.GCC"/>
    <PackageReference Include="Cosmos.Build.Ilc"/>
  </ItemGroup>
</Project>
